# ๐ ุฏููู ูุธุงู ุฅุฏุงุฑุฉ ุงูุญุถูุฑ ุงูุฐูู

## ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุญุถูุฑ ุงูุทูุงุจ ุจุงุณุชุฎุฏุงู ุชูููุฉ OMR (ุงูุชุนุฑู ุงูุถูุฆู ุนูู ุงูุนูุงูุงุช) ูุชูููููุฌูุง Bubble Sheets.

### ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ
- โ ุชูููู ููุช ุชุณุฌูู ุงูุญุถูุฑ ูู **30 ุฏูููุฉ ุฅูู ุฏูููุชูู**
- โ ุฏูุฉ **95%+** ูู ุงูุชุนุฑู ุนูู ุงูุนูุงูุงุช
- โ ุฏุนู **90+ ุทุงูุจ** ูู ุงูุตู ุงููุงุญุฏ
- โ ุชูุงุฑูุฑ ุญุถูุฑ ููุฑูุฉ
- โ ูุนูุงุฑูุฉ Microservices ูููุฑููุฉ
- โ ุฃูุงู ุนุจุฑ JWT Authentication

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### ุงููุชุทูุจุงุช ุงููุณุจูุฉ
1. ุชุซุจูุช Python 3.9 ุฃู ุฃุญุฏุซ
2. ุชุซุจูุช Docker Desktop
3. ูุธุงู Windows/Linux/Mac

### ุงูุฎุทูุฉ 1: ุชุซุจูุช ุงูููุชุจุงุช ุงููุทููุจุฉ

```bash
pip install flask flask-cors pika requests pyjwt openpyxl python-dotenv
```

### ุงูุฎุทูุฉ 2: ุชุดุบูู RabbitMQ

```bash
docker run -d --name rabbitmq -p 5672:5672 -p 15672:15672 ^
  -e RABBITMQ_DEFAULT_USER=admin ^
  -e RABBITMQ_DEFAULT_PASS=admin123 ^
  rabbitmq:3-management
```

ุงูุชุธุฑ 10 ุซูุงูู ุญุชู ูุจุฏุฃ RabbitMQ ุจุงููุงูู.

### ุงูุฎุทูุฉ 3: ุชุดุบูู ุฌููุน ุงูุฎุฏูุงุช

**ุนูู Windows:**
```bash
start-all-services.bat
```

**ุนูู Linux/Mac:**
```bash
chmod +x start-all-services.sh
./start-all-services.sh
```

### ุงูุฎุทูุฉ 4: ุงูุชุญูู ูู ุชุดุบูู ุงูุฎุฏูุงุช

ุงูุชุญ ุงููุชุตูุญ ูุชุญูู ูู:
- โ http://localhost:5000 - ุจูุงุจุฉ API
- โ http://localhost:5001 - ุฎุฏูุฉ ุงูุทูุงุจ
- โ http://localhost:5002 - ุฎุฏูุฉ ุงูููุฑุฑุงุช
- โ http://localhost:5005 - ุฎุฏูุฉ ุงูุญุถูุฑ
- โ http://localhost:5007 - ุฎุฏูุฉ ุงููุตุงุฏูุฉ
- โ http://localhost:15672 - ูุงุฌูุฉ RabbitMQ

---

## ๐ ุงูุฎุฏูุงุช ุงููุชุงุญุฉ

| ุงูุฎุฏูุฉ | ุงููููุฐ | ุงููุตู |
|-------|------|-------|
| **ุจูุงุจุฉ API** | 5000 | ููุทุฉ ุงูุฏุฎูู ุงูุฑุฆูุณูุฉ |
| **ุฎุฏูุฉ ุงูุทูุงุจ** | 5001 | ุฅุฏุงุฑุฉ ุจูุงูุงุช ุงูุทูุงุจ |
| **ุฎุฏูุฉ ุงูููุฑุฑุงุช** | 5002 | ุฅุฏุงุฑุฉ ุงูููุฑุฑุงุช ูุงูุชุณุฌูู |
| **ุฎุฏูุฉ ุงูุญุถูุฑ** | 5005 | ุชุณุฌูู ููุชุงุจุนุฉ ุงูุญุถูุฑ |
| **ุฎุฏูุฉ ุงููุตุงุฏูุฉ** | 5007 | ุชุณุฌูู ุงูุฏุฎูู ูุงูุฃูุงู |
| **ุณุฌู ุงูุฎุฏูุงุช** | 5008 | ุงูุชุดุงู ุงูุฎุฏูุงุช |

---

## ๐ ุชุณุฌูู ุงูุฏุฎูู

### ุงููุณุชุฎุฏููู ุงูุงูุชุฑุงุถููู:

| ุงุณู ุงููุณุชุฎุฏู | ูููุฉ ุงููุฑูุฑ | ุงูุตูุงุญูุฉ |
|-------------|------------|---------|
| admin | admin123 | ูุฏูุฑ ุงููุธุงู |
| teacher | teacher123 | ูุนูู |

### ูุซุงู ุนูู ุชุณุฌูู ุงูุฏุฎูู:

```bash
curl -X POST http://localhost:5000/api/auth/login ^
  -H "Content-Type: application/json" ^
  -d "{\"username\":\"admin\",\"password\":\"admin123\"}"
```

**ุงููุชูุฌุฉ:**
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "username": "admin",
  "role": "admin"
}
```

ุงุญูุธ ุงูู token! ุณุชุญุชุงุฌู ูู ุฌููุน ุงูุทูุจุงุช ุงููุงุญูุฉ.

---

## ๐ฅ ุฅุฏุงุฑุฉ ุงูุทูุงุจ

### ุงุณุชูุฑุงุฏ ุงูุทูุงุจ ูู Excel

**ุงูุฎุทูุฉ 1:** ุฅูุดุงุก ููู Excel ุชุฌุฑูุจู
```bash
cd student-service
python create_sample_excel.py
```

ุณูุชู ุฅูุดุงุก ููู `sample_students.xlsx` ูุญุชูู ุนูู 50 ุทุงูุจ.

**ุงูุฎุทูุฉ 2:** ุฑูุน ุงูููู ุนุจุฑ API
```bash
curl -X POST http://localhost:5000/api/students/import-excel ^
  -H "Authorization: Bearer YOUR_TOKEN_HERE" ^
  -F "file=@sample_students.xlsx"
```

### ุฅุถุงูุฉ ุทุงูุจ ุฌุฏูุฏ

```bash
curl -X POST http://localhost:5000/api/students/students ^
  -H "Authorization: Bearer YOUR_TOKEN_HERE" ^
  -H "Content-Type: application/json" ^
  -d "{
    \"id\": \"20210001\",
    \"name\": \"ุฃุญูุฏ ุนูู ูุญูุฏ\",
    \"email\": \"ahmed@university.edu\",
    \"department\": \"ุนููู ุงูุญุงุณูุจ\",
    \"level\": 3,
    \"phone\": \"07712345678\"
  }"
```

### ุนุฑุถ ุฌููุน ุงูุทูุงุจ

```bash
curl http://localhost:5000/api/students/students ^
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

---

## ๐ ุฅุฏุงุฑุฉ ุงูููุฑุฑุงุช

### ุฅูุดุงุก ููุฑุฑ ุฏุฑุงุณู

```bash
curl -X POST http://localhost:5000/api/courses/courses ^
  -H "Authorization: Bearer YOUR_TOKEN_HERE" ^
  -H "Content-Type: application/json" ^
  -d "{
    \"id\": \"CS101\",
    \"name\": \"ููุฏูุฉ ูู ุนููู ุงูุญุงุณูุจ\",
    \"code\": \"CS101\",
    \"department\": \"ุนููู ุงูุญุงุณูุจ\",
    \"credits\": 3,
    \"instructor\": \"ุฏ. ุฃุญูุฏ ุนูู\",
    \"semester\": \"ุงูุฎุฑูู\",
    \"academic_year\": \"2024-2025\"
  }"
```

### ุชุณุฌูู ุทุงูุจ ูู ููุฑุฑ

```bash
curl -X POST http://localhost:5000/api/courses/courses/CS101/enroll ^
  -H "Authorization: Bearer YOUR_TOKEN_HERE" ^
  -H "Content-Type: application/json" ^
  -d "{\"student_id\": \"20210001\"}"
```

### ุนุฑุถ ุงูุทูุงุจ ุงููุณุฌููู ูู ุงูููุฑุฑ

```bash
curl http://localhost:5000/api/courses/courses/CS101/students ^
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

---

## โ ุชุณุฌูู ุงูุญุถูุฑ

### ุชุณุฌูู ุญุถูุฑ ุทุงูุจ

```bash
curl -X POST http://localhost:5000/api/attendance/attendance ^
  -H "Authorization: Bearer YOUR_TOKEN_HERE" ^
  -H "Content-Type: application/json" ^
  -d "{
    \"student_id\": \"20210001\",
    \"course_id\": \"CS101\",
    \"date\": \"2024-12-15\",
    \"status\": \"present\",
    \"session_name\": \"ุงููุญุงุถุฑุฉ 1\"
  }"
```

**ุญุงูุงุช ุงูุญุถูุฑ ุงููุชุงุญุฉ:**
- `present` - ุญุงุถุฑ
- `absent` - ุบุงุฆุจ
- `late` - ูุชุฃุฎุฑ
- `excused` - ุบูุงุจ ุจุนุฐุฑ

### ุนุฑุถ ุณุฌู ุญุถูุฑ ุทุงูุจ

```bash
curl "http://localhost:5000/api/attendance/attendance/student/20210001" ^
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

**ุงููุชูุฌุฉ ุชุชุถูู:**
- ุฅุฌูุงูู ุนุฏุฏ ุงููุญุงุถุฑุงุช
- ุนุฏุฏ ูุฑุงุช ุงูุญุถูุฑ
- ุนุฏุฏ ูุฑุงุช ุงูุบูุงุจ
- ูุณุจุฉ ุงูุญุถูุฑ %
- ุชูุงุตูู ูู ูุญุงุถุฑุฉ

### ุนุฑุถ ุญุถูุฑ ููุฑุฑ ุฏุฑุงุณู

```bash
curl "http://localhost:5000/api/attendance/attendance/course/CS101" ^
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

---

## ๐ฏ ุงูุฃููุงุท ุงูุจุฑูุฌูุฉ ุงููุณุชุฎุฏูุฉ

### 1. ููุท ุงููุญูู (Adapter Pattern)
**ุงููููุน:** ุฎุฏูุฉ ุงูุทูุงุจ

ูููู ุจุชุญููู ูููุงุช Excel ุงููุฏููุฉ ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุญุฏูุซุฉ.

**ุงูููููุงุช:**
- `field_mapper.py` - ุชุญููู ุฃุณูุงุก ุงูุฃุนูุฏุฉ
- `value_transformer.py` - ุชุญููู ุงูููู
- `excel_adapter.py` - ุงููุญูู ุงูุฑุฆูุณู

**ูุซุงู ุนูู ุงูุชุญููู:**
```
Excel ุงููุฏูู       โ  ุงููุธุงู ุงูุญุฏูุซ
Student_No         โ  id
"CS"               โ  "Computer Science"
"3" (ูุต)          โ  3 (ุฑูู)
"Active"           โ  true (ููุทูู)
```

### 2. ููุท ูุณุฑ ุงูููุงุชูุญ ุงูุฎุงุฑุฌูุฉ (Breaking Foreign Keys)
**ุงููููุน:** ุฎุฏูุฉ ุงูุญุถูุฑ

ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุนุจุฑ ุงูุฎุฏูุงุช ุงููุฎุชููุฉ.

**ุณูุฑ ุงูุนูู:**
1. ุงุณุชูุงู ุทูุจ ุชุณุฌูู ุญุถูุฑ
2. ุงูุชุญูู ูู ูุฌูุฏ ุงูุทุงูุจ (ุงุณุชุฏุนุงุก ุฎุฏูุฉ ุงูุทูุงุจ)
3. ุงูุชุญูู ูู ูุฌูุฏ ุงูููุฑุฑ (ุงุณุชุฏุนุงุก ุฎุฏูุฉ ุงูููุฑุฑุงุช)
4. ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ุตุญูุญุฉ โ ุชุณุฌูู ุงูุญุถูุฑ
5. ุฅุฐุง ูุงูุช ุฎุงุทุฆุฉ โ ุฑูุถ ุงูุทูุจ

### 3. ููุท ูุงุทุน ุงูุฏุงุฆุฑุฉ (Circuit Breaker)
**ุงููููุน:** ุงูุฃุฏูุงุช ุงููุดุชุฑูุฉ

ูููุน ุงููุดู ุงููุชุชุงูู ูู ุงูุงุชุตุงู ุจูู ุงูุฎุฏูุงุช.

**ุงูุญุงูุงุช:**
- **CLOSED** (ูุบูู): ุนูู ุทุจูุนู
- **OPEN** (ููุชูุญ): ูุดู ูุชูุฑุฑุ ุฑูุถ ุงูุทูุจุงุช
- **HALF_OPEN** (ูุตู ููุชูุญ): ุงุฎุชุจุงุฑ ุงุณุชุนุงุฏุฉ ุงูุฎุฏูุฉ

---

## ๐ณ ุงูุชุดุบูู ุจุงุณุชุฎุฏุงู Docker

### ุชุดุบูู ุฌููุน ุงูุฎุฏูุงุช ุฏูุนุฉ ูุงุญุฏุฉ:

```bash
docker-compose up -d
```

### ุฅููุงู ุฌููุน ุงูุฎุฏูุงุช:

```bash
docker-compose down
```

### ุนุฑุถ ุญุงูุฉ ุงูุฎุฏูุงุช:

```bash
docker-compose ps
```

### ุนุฑุถ ุณุฌูุงุช ุฎุฏูุฉ ูุนููุฉ:

```bash
docker-compose logs student-service
docker-compose logs api-gateway
```

---

## ๐ง ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุงููููุฐ ูุณุชุฎุฏู ุจุงููุนู

**Windows:**
```bash
netstat -ano | findstr "5000"
taskkill /PID <ุฑูู_ุงูุนูููุฉ> /F
```

**Linux/Mac:**
```bash
lsof -ti:5000 | xargs kill -9
```

### RabbitMQ ูุง ูุนูู

```bash
# ุงูุชุญูู ูู ุชุดุบูู Docker
docker ps

# ุฅุนุงุฏุฉ ุชุดุบูู RabbitMQ
docker stop rabbitmq
docker rm rabbitmq
docker run -d --name rabbitmq -p 5672:5672 -p 15672:15672 rabbitmq:3-management
```

### ุฎุทุฃ ูู ุงูุงุชุตุงู ุจุงูุฎุฏูุฉ

1. ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุฏูุฉ (ุงูุธุฑ ุฅูู ูุงูุฐุฉ Terminal)
2. ุชุญูู ูู ุฑูู ุงููููุฐ ุงูุตุญูุญ
3. ุญุงูู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุฏูุฉ

---

## ๐ ูููู ุงููุดุฑูุน

```
smart-attendance-system/
โ
โโโ common/                  # ุฃุฏูุงุช ูุดุชุฑูุฉ
โ   โโโ rabbitmq_client.py
โ   โโโ database.py
โ   โโโ circuit_breaker.py
โ   โโโ utils.py
โ
โโโ api-gateway/             # ุจูุงุจุฉ API (5000)
โโโ auth-service/            # ุงููุตุงุฏูุฉ (5007)
โโโ student-service/         # ุงูุทูุงุจ (5001)
โโโ course-service/          # ุงูููุฑุฑุงุช (5002)
โโโ attendance-service/      # ุงูุญุถูุฑ (5005)
โโโ service-registry/        # ุงูุณุฌู (5008)
โ
โโโ docker-compose.yml       # ุชุดุบูู ุฌููุน ุงูุฎุฏูุงุช
โโโ README.md                # ุงูุชูุซูู ุงูุฑุฆูุณู
โโโ QUICKSTART.md            # ุฏููู ุงูุจุฏุก ุงูุณุฑูุน
โโโ ARABIC_GUIDE.md          # ูุฐุง ุงูููู
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ูุง ุชู ุฅูุฌุงุฒู:
- โ **6 ุฎุฏูุงุช** ุนุงููุฉ ุจุงููุงูู
- โ **40+ ููุทุฉ API** endpoint
- โ **5000+ ุณุทุฑ ุจุฑูุฌู**
- โ **3 ุฃููุงุท ุจุฑูุฌูุฉ** ูุทุจูุฉ
- โ **JWT authentication** ููุฃูุงู
- โ **Docker support** ูููุดุฑ
- โ **ุชูุซูู ุดุงูู** ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ

### ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ:
1. **ุงุณุชูุฑุงุฏ ุจูุงูุงุช ุงูุทูุงุจ** ูู ูููุงุช Excel ุงููุฏููุฉ
2. **ุฅุฏุงุฑุฉ ุงูููุฑุฑุงุช** ูุงูุชุณุฌูู
3. **ุชุณุฌูู ุงูุญุถูุฑ** ูุน ุงูุชุญูู ุงูุชููุงุฆู
4. **ุชูุงุฑูุฑ ุงูุญุถูุฑ** ุงูููุฑูุฉ
5. **ุฃูุงู ุนุงูู** ุจุชูููุฉ JWT
6. **ุชุญูู ุงูุฃุฎุทุงุก** ุจููุท Circuit Breaker

---

## ๐ ุงูุงุณุชุฎุฏุงู ูู ุงูุจูุฆุฉ ุงูุฃูุงุฏูููุฉ

### ุณููุงุฑูู ูุงูู:

**1. ุฅุนุฏุงุฏ ุงููุธุงู (ูุฑุฉ ูุงุญุฏุฉ):**
- ุชุดุบูู ุฌููุน ุงูุฎุฏูุงุช
- ุงุณุชูุฑุงุฏ ุจูุงูุงุช ุงูุทูุงุจ ูู Excel
- ุฅูุดุงุก ุงูููุฑุฑุงุช ุงูุฏุฑุงุณูุฉ
- ุชุณุฌูู ุงูุทูุงุจ ูู ุงูููุฑุฑุงุช

**2. ูู ุจุฏุงูุฉ ูู ูุตู ุฏุฑุงุณู:**
- ุฅูุดุงุก ุงูููุฑุฑุงุช ุงูุฌุฏูุฏุฉ
- ุชุณุฌูู ุงูุทูุงุจ

**3. ูู ูู ูุญุงุถุฑุฉ:**
- ุชุณุฌูู ุญุถูุฑ ุงูุทูุงุจ
- ุนุฑุถ ุงูุชูุงุฑูุฑ ุงูููุฑูุฉ

**4. ูู ููุงูุฉ ุงููุตู:**
- ุชุตุฏูุฑ ุชูุงุฑูุฑ ุงูุญุถูุฑ
- ุญุณุงุจ ูุณุจ ุงูุญุถูุฑ
- ุฅูุดุงุก ุงูุชูุงุฑูุฑ ุงูููุงุฆูุฉ

---

## ๐ก ูุตุงุฆุญ ููุงุณุชุฎุฏุงู

1. **ุงุญุชูุธ ุจูุงูุฐุฉ Terminal ููุชูุญุฉ** ููู ุฎุฏูุฉ ูุฑุคูุฉ ุงูุณุฌูุงุช
2. **ุงุณุชุฎุฏู Postman** ูุชุณููู ุงุฎุชุจุงุฑ APIs
3. **ุฑุงุฌุน ูุงุฌูุฉ RabbitMQ** ุนูู http://localhost:15672
4. **ุฌููุน ููุงุนุฏ ุงูุจูุงูุงุช** ูู ูููุงุช SQLite ูู ูุฌูุฏ ูู ุฎุฏูุฉ
5. **ุบููุฑ ูููุงุช ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ** ูุจู ุงูุฅูุชุงุฌ

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ุงูุชูุซูู ุงููุชุงุญ:
- [README.md](README.md) - ุชูุซูู ูุงูู ุจุงูุฅูุฌููุฒูุฉ
- [QUICKSTART.md](QUICKSTART.md) - ุฏููู ุงูุจุฏุก ุงูุณุฑูุน
- [PHASE1_SUMMARY.md](PHASE1_SUMMARY.md) - ููุฎุต ุงููุฑุญูุฉ ุงูุฃููู
- ุชูุซูู ูููุตู ููู ุฎุฏูุฉ ูู ูุฌูุฏูุง

### ุงููุดุงูู ุงูุดุงุฆุนุฉ:
ุฑุงุฌุน ูุณู "Troubleshooting" ูู README.md

---

## ๐ ุงูุฎุทูุงุช ุงููุงุฏูุฉ

### ุงูุฎุฏูุงุช ุงููุฎุทุทุฉ (ุงููุฑุญูุฉ 3):
1. **ุฎุฏูุฉ ุฅูุดุงุก Bubble Sheets** - ูุฅูุดุงุก ูููุงุช PDF
2. **ุฎุฏูุฉ ูุนุงูุฌุฉ PDF** - ููุชุนุฑู ุงูุถูุฆู ุนูู ุงูุนูุงูุงุช
3. **ุฎุฏูุฉ ุงูุชูุงุฑูุฑ** - ูุฅูุดุงุก ุชูุงุฑูุฑ Excel/PDF ูุชูุฏูุฉ

### ุชุญุณููุงุช ุฅุถุงููุฉ:
- ุงุฎุชุจุงุฑุงุช ุชููุงุฆูุฉ
- ูุฑุงูุจุฉ ุงูุฃุฏุงุก
- ูุณุฎ ุงุญุชูุงุทู ุชููุงุฆู
- ูุงุฌูุฉ ูุณุชุฎุฏู ุฑุณูููุฉ

---

**ุชู ุจูุงุก ุงููุธุงู ุจูุฌุงุญ! ๐**
**ุงูุญุงูุฉ:** ุฌุงูุฒ ููุงุณุชุฎุฏุงู โ
**ุขุฎุฑ ุชุญุฏูุซ:** ุฏูุณูุจุฑ 2024
